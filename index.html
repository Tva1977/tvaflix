<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>TVAFLIX</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #111;
      color: #fff;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #e50914;
      padding: 20px;
      text-align: center;
      font-size: 2em;
      font-weight: bold;
    }
    h2 {
      margin-left: 20px;
    }
    .movies-row {
      display: flex;
      overflow-x: auto;
      padding: 10px 20px;
      gap: 15px;
    }
    .movie {
      flex: 0 0 auto;
      width: 150px;
      text-align: center;
    }
    .movie img {
      width: 100%;
      border-radius: 10px;
    }
    .movie h3 {
      font-size: 0.9em;
      margin: 5px 0 0 0;
    }
    .movie a {
      color: #fff;
      text-decoration: none;
      font-size: 0.85em;
    }
    .movie a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <header>TVAFLIX</header>
  <div id="movies-container"></div>

  <script>
    fetch('filmes.json')
      .then(response => response.json())
      .then(filmes => {
        const container = document.getElementById('movies-container');
        const generos = {};

        // Organiza filmes por gênero
        filmes.forEach(filme => {
          if (!generos[filme.genero]) generos[filme.genero] = [];
          generos[filme.genero].push(filme);
        });

        // Cria seções de cada gênero
        for (const genero in generos) {
          const sectionTitle = document.createElement('h2');
          sectionTitle.textContent = genero;
          container.appendChild(sectionTitle);

          const row = document.createElement('div');
          row.className = 'movies-row';

          generos[genero].forEach(filme => {
            const div = document.createElement('div');
            div.className = 'movie';
            div.innerHTML = `
              <img src="${filme.poster}" alt="${filme.titulo}">
              <h3>${filme.titulo}</h3>
              <a href="${filme.trailer}" target="_blank">Assistir trailer</a>
            `;
            row.appendChild(div);
          });

          container.appendChild(row);
        }
      });
  </script>
</body>
</html>
