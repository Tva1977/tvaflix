<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TVAFLIX</title>

<style>
body { font-family: Arial, sans-serif; background:#111; color:#fff; margin:0; }

h1 { text-align:center; margin:20px; color:#e50914; font-size:48px; }

#banner {
  position:relative;
  height:400px;
  background-size:cover;
  background-position:center;
  display:flex;
  align-items:end;
  padding:30px;
}

#banner h2 {
  background:rgba(0,0,0,0.7);
  padding:10px 20px;
  border-radius:6px;
}

#busca {
  display:block;
  margin:20px auto;
  padding:10px;
  width:80%;
  max-width:400px;
  border-radius:6px;
  border:none;
  font-size:16px;
}

.container {
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:20px;
  padding:20px;
}

.filme {
  background:#222;
  padding:10px;
  border-radius:8px;
  width:200px;
  text-align:center;
}

.filme img {
  width:100%;
  border-radius:5px;
}

.filme a {
  display:inline-block;
  padding:6px 12px;
  background:#e50914;
  color:#fff;
  text-decoration:none;
  border-radius:5px;
}
</style>
</head>

<body>

<h1>TVAFLIX</h1>

<div id="banner">
  <h2 id="bannerTitulo"></h2>
</div>

<input type="text" id="busca" placeholder="Buscar filme...">

<div class="container" id="container"></div>

<script>
let listaFilmes = [];

fetch('filmes.json')
.then(r => r.json())
.then(filmes => {
  listaFilmes = filmes;

  // banner usa o primeiro filme
  const destaque = filmes[0];
  document.getElementById("banner").style.backgroundImage =
    `url(${destaque.poster})`;
  document.getElementById("bannerTitulo").innerText =
    destaque.titulo;

  mostrarFilmes(filmes);
});

function mostrarFilmes(filmes){
  const container = document.getElementById('container');
  container.innerHTML = '';

  filmes.forEach(filme => {
    const div = document.createElement('div');
    div.className = 'filme';
    div.innerHTML = `
      <img src="${filme.poster}">
      <h2>${filme.titulo}</h2>
      <p>${filme.genero}</p>
      <a href="${filme.trailer}" target="_blank">Assistir Trailer</a>
    `;
    container.appendChild(div);
  });
}

document.getElementById('busca').addEventListener('input', e => {
  const termo = e.target.value.toLowerCase();
  const filtrados = listaFilmes.filter(f =>
    f.titulo.toLowerCase().includes(termo)
  );
  mostrarFilmes(filtrados);
});
</script>

</body>
</html>
